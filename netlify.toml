# Netlify configuration for Blazor WebAssembly

[build]
  # Directorio donde est√° el proyecto
  base = "SPVetClinic"
  # Comando para compilar - instala .NET 10 y compila
  command = "curl -sSL https://dot.net/v1/dotnet-install.sh | bash /dev/stdin --channel 10.0 --install-dir $HOME/.dotnet && export PATH=\"$HOME/.dotnet:$PATH\" && dotnet publish -c Release -o release"
  # Directorio con los archivos publicados
  publish = "SPVetClinic/release/wwwroot"

# SPA Routing - Redirige todas las rutas a index.html
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

# Headers para mejor rendimiento
[[headers]]
  for = "/*"
  [headers.values]
    X-Frame-Options = "DENY"
    X-Content-Type-Options = "nosniff"

[[headers]]
  for = "/_framework/*"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"
